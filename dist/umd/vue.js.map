{"version":3,"file":"vue.js","sources":["../../src/observer/index.js","../../src/state.js","../../src/init.js","../../src/index.js"],"sourcesContent":["// 把data中的数据，都使用Object.defineProperty重新定义  es5\r\n// Object.defineProperty 不能兼容ie8 及以下   vue2无法兼容ie8\r\n\r\nexport function observe(data){\r\n    console.log(data,\"observe\")\r\n}","\r\nimport { observe } from './observer/index'\r\nexport function initState(vm){\r\n    const opts = vm.$options\r\n    // vue 的数据来源 属性 方法 数据 计算属性 watch  vue的初始化流程\r\n\r\n    if(opts.props){\r\n        initProps(vm)\r\n    }\r\n    if(opts.methods){\r\n        initMethod(vm)\r\n    }\r\n    if(opts.data){\r\n        initData(vm)\r\n    }\r\n    if(opts.computed){\r\n        initComputed(vm)\r\n    }\r\n    if(opts.watch){\r\n        initWatch(vm)\r\n    }\r\n}\r\n\r\nfunction initProps(vm){}\r\nfunction initData(vm){\r\n    // console.log(\"初始化数据成功\")\r\n    // console.log(vm.$options.data())\r\n    let data = vm.$options.data  //用户传递的data\r\n        // vm._data  用户通过vm._data 就可以访问到data中的数据\r\n    data = vm._data = typeof data === 'function'?data.call(vm):data;   //判断如果data是个方法 将data中的this指向指向当前Vue\r\n    // 对象劫持  用户改变数据  可以得到通知  进而刷新页面\r\n\r\n    // Object.defineProperty() 给属性增加get和set方法\r\n    observe(data); //响应式原理\r\n\r\n}","\r\nimport { initState } from './state'\r\n// 在原型上添加一个init方法\r\nexport function initMixin(Vue){\r\n    Vue.prototype._init = function(options){\r\n        // console.log(options)\r\n\r\n        // 数据劫持\r\n        const vm = this  // vue中使用 this.$options 指代的就是用户传递的属性\r\n        vm.$options = options\r\n\r\n\r\n        // 初始化状态\r\n        initState(vm)  //分割\r\n    }\r\n}","\r\n// Vue 的核心代码 只是Vue的一个声明\r\nimport { initMixin } from './init'\r\nfunction Vue(options){\r\n    // console.log(options)\r\n    // 进行Vue的初始化\r\n    this._init(options)\r\n}\r\n// 通过引入文件的方式  给Vue原型上添加方法\r\ninitMixin(Vue)  //给Vue原型上添加一个_init 方法\r\n\r\nexport default Vue"],"names":["observe","data","console","log","initState","vm","opts","$options","props","methods","initMethod","initData","computed","initComputed","watch","initWatch","_data","call","initMixin","Vue","prototype","_init","options"],"mappings":";;;;;;IAAA;IACA;IAEO,SAASA,OAAT,CAAiBC,IAAjB,EAAsB;IACzBC,EAAAA,OAAO,CAACC,GAAR,CAAYF,IAAZ,EAAiB,SAAjB;IACH;;ICHM,SAASG,SAAT,CAAmBC,EAAnB,EAAsB;IACzB,MAAMC,IAAI,GAAGD,EAAE,CAACE,QAAhB,CADyB;;IAIzB,MAAGD,IAAI,CAACE,KAAR,EAAc;;IAGd,MAAGF,IAAI,CAACG,OAAR,EAAgB;IACZC,IAAAA,UAAU,CAACL,EAAD,CAAV;IACH;;IACD,MAAGC,IAAI,CAACL,IAAR,EAAa;IACTU,IAAAA,QAAQ,CAACN,EAAD,CAAR;IACH;;IACD,MAAGC,IAAI,CAACM,QAAR,EAAiB;IACbC,IAAAA,YAAY,CAACR,EAAD,CAAZ;IACH;;IACD,MAAGC,IAAI,CAACQ,KAAR,EAAc;IACVC,IAAAA,SAAS,CAACV,EAAD,CAAT;IACH;IACJ;;IAGD,SAASM,QAAT,CAAkBN,EAAlB,EAAqB;IACjB;IACA;IACA,MAAIJ,IAAI,GAAGI,EAAE,CAACE,QAAH,CAAYN,IAAvB,CAHiB;IAIb;;IACJA,EAAAA,IAAI,GAAGI,EAAE,CAACW,KAAH,GAAW,OAAOf,IAAP,KAAgB,UAAhB,GAA2BA,IAAI,CAACgB,IAAL,CAAUZ,EAAV,CAA3B,GAAyCJ,IAA3D,CALiB;IAMjB;IAEA;;IACAD,EAAAA,OAAO,CAACC,IAAD,CAAP,CATiB;IAWpB;;IChCM,SAASiB,SAAT,CAAmBC,GAAnB,EAAuB;IAC1BA,EAAAA,GAAG,CAACC,SAAJ,CAAcC,KAAd,GAAsB,UAASC,OAAT,EAAiB;IACnC;IAEA;IACA,QAAMjB,EAAE,GAAG,IAAX,CAJmC;;IAKnCA,IAAAA,EAAE,CAACE,QAAH,GAAce,OAAd,CALmC;;IASnClB,IAAAA,SAAS,CAACC,EAAD,CAAT,CATmC;IAUtC,GAVD;IAWH;;ICdD;;IAEA,SAASc,GAAT,CAAaG,OAAb,EAAqB;IACjB;IACA;IACA,OAAKD,KAAL,CAAWC,OAAX;IACH;;;IAEDJ,SAAS,CAACC,GAAD,CAAT;;;;;;;;"}